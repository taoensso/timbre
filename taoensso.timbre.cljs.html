<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>taoensso.timbre documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Timbre</span> <span class="project-version">6.6.0-RC1</span></span></a></h1><div id="langs"><div class="lang"><a href="index.clj.html">clj</a></div><div class="lang current">cljs</div></div></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>taoensso</span></div></div></li><li class="depth-2 current"><a href="taoensso.timbre.cljs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timbre</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>appenders</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>community</span></div></div></li><li class="depth-5"><a href="taoensso.timbre.appenders.community.node-spit.cljs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>node-spit</span></div></a></li><li class="depth-4"><a href="taoensso.timbre.appenders.core.cljs.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-*config*"><div class="inner"><span>*config*</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-*context*"><div class="inner"><span>*context*</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-console-appender"><div class="inner"><span>console-appender</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-debug"><div class="inner"><span>debug</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-debugf"><div class="inner"><span>debugf</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-default-config"><div class="inner"><span>default-config</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-default-output-error-fn"><div class="inner"><span>default-output-error-fn</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-default-output-fn"><div class="inner"><span>default-output-fn</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-default-output-msg-fn"><div class="inner"><span>default-output-msg-fn</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-default-timestamp-opts"><div class="inner"><span>default-timestamp-opts</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-error"><div class="inner"><span>error</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-errorf"><div class="inner"><span>errorf</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-fatal"><div class="inner"><span>fatal</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-fatalf"><div class="inner"><span>fatalf</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-infof"><div class="inner"><span>infof</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-keep-callsite"><div class="inner"><span>keep-callsite</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-level.3E.3D"><div class="inner"><span>level&gt;=</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-log"><div class="inner"><span>log</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-log.21"><div class="inner"><span>log!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-log*"><div class="inner"><span>log*</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-log-and-rethrow-errors"><div class="inner"><span>log-and-rethrow-errors</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-log-errors"><div class="inner"><span>log-errors</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-logf"><div class="inner"><span>logf</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-logf*"><div class="inner"><span>logf*</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-logged-future"><div class="inner"><span>logged-future</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-merge-config.21"><div class="inner"><span>merge-config!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-println-appender"><div class="inner"><span>println-appender</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-refer-timbre"><div class="inner"><span>refer-timbre</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-report"><div class="inner"><span>report</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-reportf"><div class="inner"><span>reportf</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-set-config.21"><div class="inner"><span>set-config!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-set-min-level"><div class="inner"><span>set-min-level</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-set-min-level.21"><div class="inner"><span>set-min-level!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-set-ns-min-level"><div class="inner"><span>set-ns-min-level</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-set-ns-min-level.21"><div class="inner"><span>set-ns-min-level!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-shutdown-appenders.21"><div class="inner"><span>shutdown-appenders!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-sometimes"><div class="inner"><span>sometimes</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-spy"><div class="inner"><span>spy</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-swap-config.21"><div class="inner"><span>swap-config!</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-trace"><div class="inner"><span>trace</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-tracef"><div class="inner"><span>tracef</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-warn"><div class="inner"><span>warn</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-warnf"><div class="inner"><span>warnf</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-with-config"><div class="inner"><span>with-config</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-with-context"><div class="inner"><span>with-context</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-with-context.2B"><div class="inner"><span>with-context+</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-with-default-outs"><div class="inner"><span>with-default-outs</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-with-merged-config"><div class="inner"><span>with-merged-config</span></div></a></li><li class="depth-1"><a href="taoensso.timbre.cljs.html#var-with-min-level"><div class="inner"><span>with-min-level</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">taoensso.timbre</h1><div class="doc"><pre class="plaintext">Simple, flexible logging for Clojure/Script. No XML.
</pre></div><div class="public anchor" id="var-*config*"><h3>*config*</h3><h4 class="dynamic">dynamic</h4><h4 class="lang"><a href="taoensso.timbre.html#var-*config*">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"></div><div class="doc"><pre class="plaintext">This config map controls all Timbre behaviour including:
  - When to log (via min-level and namespace filtering)
  - How  to log (which appenders to use, etc.)
  - What to log (how log data will be transformed to final
                 output for use by appenders)

Initial config value will be (in descending order of preference):

  1. `taoensso.timbre.config.edn`   JVM property  (read as EDN)
  2. `TAOENSSO_TIMBRE_CONFIG_EDN`   Env var       (read as EDN)
  3. `./taoensso.timbre.config.edn` resource file (read as EDN)
  4. Value of `default-config`

For all EDN cases (1-3): the EDN can represent either a Clojure map
to merge into `default-config`, or a qualified symbol that'll
resolve to a Clojure map to merge into `default-config`.

See `default-config` for more info on the base/default config.

You can modify the config value with standard `alter-var-root`,
or `binding`.

For convenience, there's also some dedicated helper utils:

  - `set-config!`, `merge-config!`        ; Mutate *config*
  - `set-min-level!`, `set-ns-min-level!` ; Mutate *config* :min-level
  - `with-config`, `with-merged-config`   ; Bind *config*
  - `with-min-level`                      ; Bind *config* :min-level

MAIN CONFIG OPTIONS
  :min-level
    Logging will occur only if a logging call's level is &gt;= this
    min-level. Possible values, in order:

      :trace  = level 0
      :debug  = level 1 ; Default min-level
      :info   = level 2
      :warn   = level 3
      :error  = level 4 ; Error type
      :fatal  = level 5 ; Error type
      :report = level 6 ; High general-purpose (non-error) type

    It's also possible to set a namespace-specific min-level by
    providing a vector that maps `ns-pattern`s to min-levels, e.g.:
    `[[#{"taoensso.*"} :error] ... [#{"*"} :debug]]`.

    Example `ns-pattern`s:
      #{}, "*", "foo.bar", "foo.bar.*", #{"foo" "bar.*"},
      {:allow #{"foo" "bar.*"} :deny #{"foo.*.bar.*"}}.

    See also `set-ns-min-level!` for a helper tool.

  :ns-filter
    Logging will occur only if a logging call's namespace is permitted
    by this ns-filter. Possible values:

      - Arbitrary (fn may-log-ns? [ns]) predicate fn.
      - An `ns-pattern` (see :min-level docs above).

    Useful for turning off logging in noisy libraries, etc.

  :middleware
    Vector of simple (fn [data]) -&gt; ?new-data fns (applied left-&gt;right)
    that transform the data map dispatched to appender fns. If any middleware
    returns nil, NO dispatch will occur (i.e. the event will be filtered).

    Useful for layering advanced functionality. Similar to Ring middleware.

  :timestamp-opts ; Config map, see `default-timestamp-opts`
  :output-fn      ; (fn [data]) -&gt; final output for use by appenders,
                  ; see `default-output-fn` for example
  :output-opts    ; Optional map added to data sent to output-fn

  :appenders ; {&lt;appender-id&gt; &lt;appender-map&gt;}

    Where each appender-map has keys:
      :enabled?        ; Must be truthy to log
      :min-level       ; Optional *additional* appender-specific min-level
      :ns-filter       ; Optional *additional* appender-specific ns-filter

      :async?          ; Dispatch using agent? Useful for slow appenders (Clj only)
                       ; Tip: consider calling (shutdown-agents) as part of your
                       ; application shutdown if you have this enabled for any
                       ; appenders.

      :rate-limit      ; [[&lt;ncalls-limit&gt; &lt;window-msecs&gt;] ...], or nil
                       ; Appender will noop a call after exceeding given number
                       ; of the "same" calls within given rolling window/s.
                       ;
                       ; Example:
                       ;   [[100  (encore/ms :mins  1)]
                       ;    [1000 (encore/ms :hours 1)]] will noop a call after:
                       ;
                       ;   - &gt;100  "same" calls in 1 rolling minute, or
                       ;   - &gt;1000 "same" calls in 1 rolling hour
                       ;
                       ; "Same" calls are identified by default as the
                       ; combined hash of:
                       ;   - Callsite (i.e. each individual Timbre macro form)
                       ;   - Logging level
                       ;   - All arguments provided for logging
                       ;
                       ; You can manually override call identification:
                       ;   (timbre/infof ^:meta {:id "my-limiter-call-id"} ...)
                       ;

      :timestamp-opts  ; Optional appender-specific override for top-level option
      :output-fn       ; Optional appender-specific override for top-level option
      :output-opts     ; Optional appender-specific override for top-level option

      :fn              ; (fn [data]) -&gt; side-effects, with keys described below

LOG DATA
  A single map with keys:
    :config          ; Entire active config map
    :context         ; `*context*` value at log time (see `with-context`)
    :appender-id     ; Id of appender currently dispatching
    :appender        ; Entire map of appender currently dispatching
    :instant         ; Platform date (java.util.Date or js/Date)
    :level           ; Call's level keyword (e.g. :info) (&gt;= active min-level)
    :error-level?    ; Is level e/o #{:error :fatal}?
    :spying?         ; Is call occuring via the `spy` macro?
    :?ns-str         ; String,  or nil
    :?file           ; String,  or nil
    :?line           ; Integer, or nil
    :?column         ; Integer, or nil
    :?err            ; First-arg platform error, or nil
    :?meta           ; First-arg map when it has ^:meta metadata, used as a
                       way of passing advanced per-call options to appenders
    :vargs           ; Vector of raw args provided to logging call
    :timestamp_      ; Forceable - string
    :hostname_       ; Forceable - string (Clj only)
    :output-fn       ; (fn [data]) -&gt; final output for use by appenders
    :output_         ; Forceable result of calling (output-fn &lt;this-data-map&gt;)

    **NB** - any keys not specifically documented here should be
    considered private / subject to change without notice.

COMPILE-TIME LEVEL/NS ELISION
  To control :min-level and :ns-filter at compile-time, use:

    - `taoensso.timbre.min-level.edn`  JVM property (read as EDN)
    - `taoensso.timbre.ns-pattern.edn` JVM property (read as EDN)

    - `TAOENSSO_TIMBRE_MIN_LEVEL_EDN`  env var      (read as EDN)
    - `TAOENSSO_TIMBRE_NS_PATTERN_EDN` env var      (read as EDN)

  Note that compile-time options will OVERRIDE options in `*config*`.

DEBUGGING INITIAL CONFIG
  See `:_init-config` for information re: Timbre's config on initial load.</pre></div></div><div class="public anchor" id="var-*context*"><h3>*context*</h3><h4 class="dynamic">dynamic</h4><h4 class="lang"><a href="taoensso.timbre.html#var-*context*">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"></div><div class="doc"><pre class="plaintext">General-purpose dynamic logging context
</pre></div></div><div class="public anchor" id="var-console-appender"><h3>console-appender</h3><h4 class="lang current">cljs</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-debug"><h3>debug</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-debug">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(debug &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-debugf"><h3>debugf</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-debugf">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(debugf &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-default-config"><h3>default-config</h3><h4 class="lang"><a href="taoensso.timbre.html#var-default-config">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Default/example Timbre `*config*` value:

{:min-level :debug #_[["taoensso.*" :error] ["*" :debug]]
 :ns-filter #{"*"} #_{:deny #{"taoensso.*"} :allow #{"*"}}

 :middleware [] ; (fns [data]) -&gt; ?data, applied left-&gt;right

 :timestamp-opts default-timestamp-opts ; {:pattern _ :locale _ :timezone _}
 :output-fn default-output-fn ; (fn [data]) -&gt; final output for use by appenders

 :appenders
 #?(:clj
    {:println (println-appender {:stream :auto})
     ;; :spit (spit-appender    {:fname "./timbre-spit.log"})
     }

    :cljs
    (if (exists? js/window)
      {:console (console-appender {})}
      {:println (println-appender {})}))}

See `*config*` for more info.</pre></div></div><div class="public anchor" id="var-default-output-error-fn"><h3>default-output-error-fn</h3><h4 class="lang"><a href="taoensso.timbre.html#var-default-output-error-fn">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(default-output-error-fn {:keys [?err output-opts], :as data})</code></div><div class="doc"><pre class="plaintext">Default (fn [data]) -&gt; string, used by `default-output-fn` to
generate output for `:?err` value in log data.

For Clj:
   Uses `org.clj-commons/pretty` to return an attractive stacktrace.
   Options:
     :stacktrace-fonts ; See `clj-commons.format.exceptions/*fonts*`

For Cljs:
   Returns simple stacktrace string.</pre></div></div><div class="public anchor" id="var-default-output-fn"><h3>default-output-fn</h3><h4 class="lang"><a href="taoensso.timbre.html#var-default-output-fn">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(default-output-fn base-output-opts data)</code><code>(default-output-fn data)</code></div><div class="doc"><pre class="plaintext">Default (fn [data]) -&gt; final output string, used to produce
final formatted output_ string from final log data.

Options (included as `:output-opts` in data sent to fns below):

  :error-fn ; When present and (:?err data) present,
            ; (error-fn data) will be called to generate output
            ; (e.g. a stacktrace) for the error.
            ;
            ; Default value: `default-output-error-fn`.
            ; Use `nil` value to exclude error output.

  :msg-fn   ; When present, (msg-fn data) will be called to
            ; generate a message from `vargs` (vector of raw
            ; logging arguments).
            ;
            ; Default value: `default-output-msg-fn`.
            ; Use `nil` value to exclude message output.</pre></div></div><div class="public anchor" id="var-default-output-msg-fn"><h3>default-output-msg-fn</h3><h4 class="lang"><a href="taoensso.timbre.html#var-default-output-msg-fn">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(default-output-msg-fn {:keys [msg-type ?msg-fmt vargs output-opts], :as data})</code></div><div class="doc"><pre class="plaintext">(fn [data]) -&gt; string, used by `default-output-fn` to generate output
for `:vargs` value (vector of raw logging arguments) in log data.</pre></div></div><div class="public anchor" id="var-default-timestamp-opts"><h3>default-timestamp-opts</h3><h4 class="lang"><a href="taoensso.timbre.html#var-default-timestamp-opts">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Controls (:timestamp_ data)
</pre></div></div><div class="public anchor" id="var-error"><h3>error</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-error">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(error &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-errorf"><h3>errorf</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-errorf">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(errorf &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-fatal"><h3>fatal</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-fatal">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(fatal &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-fatalf"><h3>fatalf</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-fatalf">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(fatalf &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-info"><h3>info</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-info">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(info &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-infof"><h3>infof</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-infof">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(infof &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-keep-callsite"><h3>keep-callsite</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-keep-callsite">clj</a></h4><h4 class="lang current">cljs</h4><h4 class="added">added in Encore v3.61.0 (2023-07-07)</h4><div class="usage"><code>(keep-callsite form)</code></div><div class="doc"><pre class="plaintext">The long-standing CLJ-865 means that it's not possible for an inner
macro to access the `&amp;form` metadata of a wrapping outer macro. This
means that wrapped macros lose calsite info, etc.

This util offers a workaround for macro authors:
  (defmacro inner [] (meta &amp;form))
  (defmacro outer [] (keep-callsite `(inner)))
  (outer) =&gt; {:keys [line column ...]}</pre></div></div><div class="public anchor" id="var-level.3E.3D"><h3>level&gt;=</h3><h4 class="lang"><a href="taoensso.timbre.html#var-level.3E.3D">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(level&gt;= x y)</code></div><div class="doc"><pre class="plaintext">Implementation detail.
</pre></div></div><div class="public anchor" id="var-log"><h3>log</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-log">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(log level &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-log.21"><h3>log!</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-log.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(log! {:as opts, :keys [loc level msg-type args vargs config ?err ?base-data spying?], :or {config (quote taoensso.timbre/*config*), ?err :auto}})</code><code>(log! level msg-type args &amp; [opts])</code></div><div class="doc"><pre class="plaintext">Core low-level log macro. Useful for tooling/library authors, etc.

  * `level`    - must eval to a valid logging level
  * `msg-type` - must eval to e/o #{:p :f nil}
  * `args`     - arguments seq (ideally vec) for logging call
  * `opts`     - ks e/o #{:config ?err ?base-data spying?
                          :?ns-str :?file :?line :?column}

Supports compile-time elision when compile-time const vals
provided for `level` and/or `?ns-str`.

Logging wrapper examples:

  (defn     log-wrapper-fn    [&amp; args]                        (timbre/log! :info :p  args))
  (defmacro log-wrapper-macro [&amp; args] (timbre/keep-callsite `(timbre/log! :info :p ~args)))</pre></div></div><div class="public anchor" id="var-log*"><h3>log*</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-log*">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(log* config level &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-log-and-rethrow-errors"><h3>log-and-rethrow-errors</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-log-and-rethrow-errors">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(log-and-rethrow-errors &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-log-errors"><h3>log-errors</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-log-errors">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(log-errors &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-logf"><h3>logf</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-logf">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(logf level &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-logf*"><h3>logf*</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-logf*">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(logf* config level &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-logged-future"><h3>logged-future</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-logged-future">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(logged-future &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-merge-config.21"><h3>merge-config!</h3><h4 class="lang"><a href="taoensso.timbre.html#var-merge-config.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(merge-config! config)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-println-appender"><h3>println-appender</h3><h4 class="lang"><a href="taoensso.timbre.html#var-println-appender">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-refer-timbre"><h3>refer-timbre</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-refer-timbre">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(refer-timbre)</code></div><div class="doc"><pre class="plaintext">(require
'[taoensso.timbre :as timbre
  :refer [log  trace  debug  info  warn  error  fatal  report
          logf tracef debugf infof warnf errorf fatalf reportf
          spy]])</pre></div></div><div class="public anchor" id="var-report"><h3>report</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-report">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(report &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-reportf"><h3>reportf</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-reportf">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(reportf &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-set-config.21"><h3>set-config!</h3><h4 class="lang"><a href="taoensso.timbre.html#var-set-config.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(set-config! config)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-set-min-level"><h3>set-min-level</h3><h4 class="lang"><a href="taoensso.timbre.html#var-set-min-level">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(set-min-level config min-level)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-set-min-level.21"><h3>set-min-level!</h3><h4 class="lang"><a href="taoensso.timbre.html#var-set-min-level.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(set-min-level! min-level)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-set-ns-min-level"><h3>set-ns-min-level</h3><h4 class="lang"><a href="taoensso.timbre.html#var-set-ns-min-level">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(set-ns-min-level config ns ?min-level)</code></div><div class="doc"><pre class="plaintext">Returns given Timbre `config` with its `:min-level` modified so that
the given namespace has the specified minimum logging level.

When no namespace is provided, `*ns*` will be used.
When `?min-level` is nil, any minimum level specifications for the
*exact* given namespace will be removed.

See `*config*` docstring for more about `:min-level`.
See also `set-min-level!` for a util to directly modify `*config*`.</pre></div></div><div class="public anchor" id="var-set-ns-min-level.21"><h3>set-ns-min-level!</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-set-ns-min-level.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(set-ns-min-level! ?min-level)</code><code>(set-ns-min-level! ns ?min-level)</code></div><div class="doc"><pre class="plaintext">Like `set-ns-min-level` but directly modifies `*config*`.

Can conveniently set the minimum log level for the current ns:
 (set-ns-min-level! :info) =&gt; Sets min-level for current *ns*

See `set-ns-min-level` for details.</pre></div></div><div class="public anchor" id="var-shutdown-appenders.21"><h3>shutdown-appenders!</h3><h4 class="lang"><a href="taoensso.timbre.html#var-shutdown-appenders.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(shutdown-appenders!)</code><code>(shutdown-appenders! config)</code></div><div class="doc"><pre class="plaintext">Alpha, subject to change.

Iterates through all appenders in config (enabled or not), and
calls (:shutdown-fn appender) whenever that fn exists.

This signals to these appenders that they should immediately
close/release any resources that they may have open/acquired,
and permanently noop on future logging requests.

Returns the set of appender-ids that had a shutdown-fn called.

This fn is called automatically on JVM shutdown, but can also
be called manually.</pre></div></div><div class="public anchor" id="var-sometimes"><h3>sometimes</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-sometimes">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(sometimes probability &amp; body)</code></div><div class="doc"><pre class="plaintext">Handy for sampled logging, etc.
</pre></div></div><div class="public anchor" id="var-spy"><h3>spy</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-spy">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(spy form)</code><code>(spy level form)</code><code>(spy level name form)</code><code>(spy config level name form)</code></div><div class="doc"><pre class="plaintext">Evaluates named form and logs its result. Always returns the result.
Defaults to `:debug` logging level, and unevaluated form as name:
  (spy (+ 3 2)) =&gt; (timbre/debug '(+ 3 2) "=&gt;" 5)</pre></div></div><div class="public anchor" id="var-swap-config.21"><h3>swap-config!</h3><h4 class="lang"><a href="taoensso.timbre.html#var-swap-config.21">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(swap-config! f &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-trace"><h3>trace</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-trace">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(trace &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-tracef"><h3>tracef</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-tracef">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(tracef &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-warn"><h3>warn</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-warn">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(warn &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-warnf"><h3>warnf</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-warnf">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(warnf &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-with-config"><h3>with-config</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-with-config">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(with-config config &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-with-context"><h3>with-context</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-with-context">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(with-context context &amp; body)</code></div><div class="doc"><pre class="plaintext">Executes body so that given arbitrary data will be passed (as `:context`)
to appenders for any enclosed logging calls.

(with-context
  {:user-name "Stu"} ; Will be incl. in data dispatched to appenders
  (info "User request"))

See also `with-context+`.</pre></div></div><div class="public anchor" id="var-with-context.2B"><h3>with-context+</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-with-context.2B">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(with-context+ context &amp; body)</code></div><div class="doc"><pre class="plaintext">Like `with-context`, but merges given context into current context.
</pre></div></div><div class="public anchor" id="var-with-default-outs"><h3>with-default-outs</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-with-default-outs">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(with-default-outs &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-with-merged-config"><h3>with-merged-config</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-with-merged-config">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(with-merged-config config &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-with-min-level"><h3>with-min-level</h3><h4 class="type">macro</h4><h4 class="lang"><a href="taoensso.timbre.html#var-with-min-level">clj</a></h4><h4 class="lang current">cljs</h4><div class="usage"><code>(with-min-level min-level &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>